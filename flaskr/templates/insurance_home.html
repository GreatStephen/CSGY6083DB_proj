{% extends "layout.html" %}

<head>
    <title>We Do Secure Insurance</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css" />
    <script src="static/js/jquery-3.5.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="static/js/bootstrap.js"></script>
</head>

{% block body %}
<div class="container">
    <div class="row">
        <h2>Home Insurance</h2>
    </div>
    <div class="row">
        <p>Secure Your Home</p>
    </div>
    <div class="row">
        <h3>Home Insurance Search</h3>
    </div>
    <div class="row">
        <form action="/insurance_home" method="post">
            <div class="col">
                <div class="row">
                    <label>Deductible</label>
                </div>
                <div class="row">
                    <label style="width: 40px">From</label>
                    <input type="number" name="deductible_lowest" required>
                </div>
                <div class="row">
                    <label style="width: 40px">To</label>
                    <input type="number" name="deductible_highest" required>
                </div>
            </div>
            <div class="col">
                <div class="row">
                    <label>Annual Fee</label>
                </div>
                <div class="row">
                    <label style="width: 40px">From</label>
                    <input type="number" name="annual_fee_lowest" required>
                </div>
                <div class="row">
                    <label style="width: 40px">To</label>
                    <input type="number" name="annual_fee_highest" required>
                </div>
            </div>
            <div class="col">
                <div class="row">
                    <label>Home Num</label>
                </div>
                <div class="row">
                    <label style="width: 40px">From</label>
                    <input type="number" name="home_num_lowest" required>
                </div>
                <div class="row">
                    <label style="width: 40px">To</label>
                    <input type="number" name="home_num_highest" required>
                </div>
            </div>
            <div class="col">
                <div class="row">
                    <label>Policy</label>
                </div>
                <div class="row">
                    <input type="number" name="policy" required>
                </div>
                <!-- >
                <div class="row">
                    <div class="dropdown">
                        <button type="button" class="btn dropdown-toggle" id="policyBtn" data-toggle="dropdown">
                            HO-1 (Basic)
                        </button>
                        <input type="hidden" name="hideDrop" id="hideDrop" value="HO-1 (Basic)">
                        <ul class="dropdown-menu" id="policyList" role="menu"
                            aria-labelledby="dropdownMenu1" onchange="selectPolicy(this)">
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-1 (Basic)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-2 (Broad)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-3 (All Risk)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-4 (Renterâ€™s)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-5 (Comprehensive)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-6 (Condominium Coverage)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-7 (Mobile Home)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">HO-8 (Older Home)</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">Dwelling Fire</a>
                            </li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">Home Owner Insurance</a>
                            </li>
                        </ul>
                        <script>
                            document.getElementById('policyList').onchange = function () {
                                document.getElementById('policyBtn').innerHTML =
                                document.getElementById('city').onchange();
                            }
                        </script>
                    </div>
                </div>
                <!-->
            </div>
            <div class="col">
                <input type="submit" value="Search" />
            </div>
        </form>
    </div>
    <div class="row">
        <table>
            <thead>
                <tr>
                    <th style="width: 200px">p_id</th>
                    <th style="width: 200px">deductible</th>
                    <th style="width: 600px">decription</th>
                    <th style="width: 200px">annual fee</th>
                    <th style="width: 100px">policy</th>
                    <th style="width: 100px">home num</th>
                </tr>
            </thead>
            <tbody>
            {% if list %}
                {% for plan in list %}
                    <tr>
                        <td>{{ plan['p_id'] }}</td>
                        <td>{{ plan['deductible'] }}</td>
                        <td>{{ plan['description'] }}</td>
                        <td>{{ plan['annual_fee'] }}</td>
                        <td>{{ plan['policy'] }}</td>
                        <td>{{ plan['home_num'] }}</td>
                        <td>
                            <form action="/payment/{{ plan['p_id'] }}" method="get">
                                <button type="submit" value="Buy">Buy</button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            {% endif %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}